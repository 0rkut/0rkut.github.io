<div class="app-wrapper flex-column">
  <div class="header">
    <div
      class="width-control-container flex-row gap-8px space-between align-center"
    >
      <a routerLink="/"
        ><h1>{{ appName }}</h1></a
      >
      <div *ngIf="session; else notLoggedButton">Logged</div>
      <ng-template #notLoggedButton>
        <div><a [routerLink]="['/login']">Login</a></div>
      </ng-template>
    </div>
  </div>
  <div
    class="content-container grow overflow-auto"
    *ngIf="user$ | async as user"
  >
    <div class="width-control-container flex-row gap-8px overflow-auto">
      <div
        *ngIf="!(routeData$ | async)?.hideLeft"
        class="left-panel panel-border flex-column gap-8px overflow-auto"
      >
        <img [src]="user.img" alt="" />
        menu
      </div>
      <div class="content-panel grow">
        <div class="panel-border">
          <router-outlet></router-outlet>
        </div>
      </div>
      <div
        *ngIf="!(routeData$ | async)?.hideRight"
        class="right-panel flex-column gap-8px overflow-auto"
      >
        <div class="panel-border">
          <h2>My friends</h2>
          <input type="text" placeholder="Search friends" />
          <app-friend-list />
        </div>
        <div class="panel-border">
          <h2>My communities</h2>
          <input type="text" placeholder="Search communities" />
          <app-community-list />
        </div>
      </div>
    </div>
  </div>
</div>
